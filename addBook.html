<head>
    <title>add book</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <form class="form-control">
            <!-- <p>Cover: <input id="Cover" type="image"></p> -->
        <input type="file" id="Cover" accept="image/gif, image/jpeg, image/png, image/jpg">
        <p>
            Name: <input id="Name" type="text" onfocus="checkInput('Name')" oninput="checkInput('Name')">
            <font id="Name_alert" color="indianred"></font>
        </p>
        <p>
            Author: <input id="Author" type="text" onfocus="checkInput('Author')" oninput="checkInput('Author')">
            <font id="Author_alert" color="indianred"></font>
        </p>
        <p>
            Publisher: <input id="Publisher" type="text" onfocus="checkInput('Publisher')" oninput="checkInput('Publisher')">
            <font id="Publisher_alert" color="indianred"></font>
        </p>
        <p>
            Publication Date: <input id="Publication Date" type="date" onfocus="checkInput('Publication Date')" oninput="checkInput('Publication Date')">
            <font id="Publication Date_alert" color="indianred"></font>
        </p>
        <p>
            Quantity: <input id="Quantity" type="text" onfocus="checkInput('Quantity')" oninput="checkInput('Quantity')">
            <font id="Quantity_alert" color="indianred"></font>
        </p>
        <button class="btn" onclick={window.alert("submitted")}>
            Submit
        </button>
    </form>

    <script>
        //只完成了检查，不会影响到提交结果
        function checkInput(id){
            var info = document.getElementById(id).value;
            if (info=="")
                document.getElementById(id+"_alert").innerHTML="Value can't be empty.";
            else if(id=="Quantity") {
                if (info < 0 || isNaN(info)) {
                    document.getElementById(id+"_alert").innerHTML="Please input valid number.";
                } else {
                    document.getElementById(id+"_alert").innerHTML="✅";
                }
            }
            else if (id=="Publication Date") {
                var today = new Date();
                info = new Date(info);
                if (info > today) {
                    document.getElementById(id+"_alert").innerHTML="Please input valid date.";
                } else {
                    document.getElementById(id+"_alert").innerHTML="✅";
                }
            }
            else
                document.getElementById(id+"_alert").innerHTML="✅";
            console.log(info);
        }
    </script>
</body>

<!-- 如果input的type属性设置为image， 那么用户单击图像的时候，浏览器将以像素为单位，将鼠标相对于图像边界的偏移量发送到服务器 -->
<!-- 其中包括从图像左边界开始的水平偏移量和从上边界开始的垂直偏移量 -->
<!-- 如果要实现上传图片的功能，应该将type设置为file -->